<div class="container-fluid">
  <div [ngClass]="messageClass">{{message}}</div>
  <div class="panel panel-primary">
    <div class="panel-heading">
      <h3 class="panel-title">Плановые сроки завершения этапов(стадий) прохождения инновационного проекта</h3>
    </div>
    <div class="panel-body" >
      <table class="table table-striped table-hover table-bordered">
        <thead>
        <tr>
          <th>Название</th>
          <th *ngFor="let headerModel of headerModel">
            {{headerModel}}
          </th>
          <th>
            Сумма
          </th>
        </tr>

        </thead>
        <tbody>
        <tr *ngFor="let localModel of model;let i = index">
          <td>{{localModel.name}}</td>
          <td *ngFor = "let year of localModel.yearFieldModels;let i = index">
            <div class="form-group">
              <input type="number" [disabled]="processing" *ngIf="localModel.controlType==='FLOAT' && year.year != 0" appDynamicValidationInput [regExp]="regExp" [model]="model" [code]="localModel.code" [index]="i" (setValidationStatus)="check($event)" (change)="onChange()" class="form-control input-sm input-min-width" [(ngModel)]="year.value">
              <input *ngIf="localModel.controlType==='sum' || year.year === 0" [disabled]="true" (change)="onChange()" class="form-control input-sm input-min-width" [(ngModel)]="year.value">
            </div>
          </td>
        </tr>
        </tbody>
      </table>
      <!--<table *ngIf="commentModel.length > 0" class="table table-striped table-hover table-bordered">
        <thead>
        <tr>
          <th>Наименование этапа</th>
          <th>Пред. дата(мм/гггг)</th>
          <th>Новая дата(мм/гггг)</th>
          <th>Документ</th>
          <th>Дата утверждения</th>
          <th>Причина изменения</th>
        </tr>
        </thead>
        <tbody>
        <tr *ngFor="let commentModel of commentModel">
          <td>
            {{commentModel.dictionaryName}}
          </td>
          <td class="fixed-date">
            <div class="form-group">
              <input disabled class="form-control input-sm" type="text" [(ngModel)]="commentModel.oldVal">
            </div>
          </td>
          <td class="fixed-date">
            <div class="form-group">
              <input disabled class="form-control input-sm" type="text" [(ngModel)]="commentModel.newVal">
            </div>
          </td>
          <td>
            <div class="form-group">
              <textarea disabled class="form-control input-sm" type="text" [(ngModel)]="commentModel.documentName"></textarea>
            </div>
          </td>
          <td class="fixed-date">
            <div class="form-group">
              <input disabled class="form-control input-sm" type="text" [(ngModel)]="commentModel.date">
            </div>
          </td>
          <td>
            <div class="form-group">
              <textarea disabled class="form-control input-sm" [(ngModel)]="commentModel.description"></textarea>
            </div>
          </td>
        </tr>
        </tbody>
      </table>-->
      <button [disabled]="processing || valid === false" class="btn btn-primary" (click)="submit()">Сохранить</button>
      <!--<button  class="btn btn-primary" (click)="submit()">Check</button>-->


    </div>
  </div>
</div>
